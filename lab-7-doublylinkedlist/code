#include <stdio.h>
#include <stdlib.h>

//nikhithaS
struct node {
int data;
struct node *prev;
struct node *next;
};

struct node *head = NULL;

void create(int n) {
int value;
struct node *newnode, *temp;

for (int i = 0; i < n; i++) {
printf("Enter data: ");
scanf("%d", &value);

newnode = (struct node *)malloc(sizeof(struct node));
newnode->data = value;
newnode->prev = NULL;
newnode->next = NULL;

if (head == NULL) {
head = newnode;
} else {
temp = head;
while (temp->next != NULL)
temp = temp->next;

temp->next = newnode;
newnode->prev = temp;
}
}
}

void insertleft(int x, int value) {
struct node *newnode, *temp;

if (head == NULL) {
printf("List is empty\n");
return;
}

temp = head;

while (temp != NULL && temp->data != x)
temp = temp->next;

if (temp == NULL) {
printf("Node with value %d not found\n", x);
return;
}

newnode = (struct node *)malloc(sizeof(struct node));
newnode->data = value;

if (temp == head) {
newnode->prev = NULL;
newnode->next = head;
head->prev = newnode;
head = newnode;
return;
}

newnode->next = temp;
newnode->prev = temp->prev;
temp->prev->next = newnode;
temp->prev = newnode;
}


void deletevalue(int value) {
struct node *temp = head;

if (head == NULL) {
printf("List is empty\n");
return;
}

while (temp != NULL && temp->data != value)
temp = temp->next;

if (temp == NULL) {
printf("Value %d not found\n", value);
return;
}

if (temp == head) {
head = head->next;
if (head != NULL) head->prev = NULL;
free(temp);
return;
}

if (temp->next == NULL) {
temp->prev->next = NULL;
free(temp);
return;
}

temp->prev->next = temp->next;
temp->next->prev = temp->prev;
free(temp);
}

void display() {
struct node *temp = head;

if (temp == NULL) {
printf("List is empty\n");
return;
}

printf("Doubly Linked List: ");
while (temp != NULL) {
printf("%d <-> ", temp->data);
temp = temp->next;
}
printf("NULL\n");
}

int main() {
int n, choice, val, x;

printf("Enter number of nodes to create:");
scanf("%d", &n);

create(n);

while (1) {
printf("\n 1. Insert to left of node by value\n");
printf("2. Delete node by value\n");
printf("3. Display list\n");
printf("4. Exit\n");
printf("Enter choice: ");
scanf("%d", &choice);

switch (choice) {
case 1:
printf("Insert value: ");
scanf("%d", &val);
printf("the left of node with value: ");
scanf("%d", &x);
insertleft(x, val);
break;

case 2:
printf("Enter value to delete: ");
scanf("%d", &x);
deletevalue(x);
break;

case 3:
display();
break;

case 4:
    printf("exiting...");
    exit(0);



default:
printf("Invalid choice\n");
}
}
}
